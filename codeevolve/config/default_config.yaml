# CodeEvolve default OpenEvolve configuration
# Based on R6-validated settings (5/5 problems solved within 10 iterations at these defaults).
# build_harness.py copies this file into each run directory, overriding max_iterations
# with the value from --iterations.

max_iterations: 20           # R6: all 5 problems found optimal within 10; 20 gives headroom
checkpoint_interval: 5       # Save checkpoint every 5 iterations
log_level: INFO
random_seed: 42

llm:
  api_base: "https://api.anthropic.com/v1"
  temperature: 0.4           # Dria research + R3/R6 confirmed
  max_tokens: 4096
  timeout: 120
  retries: 3
  retry_delay: 5

  models:
    - name: "sonnet"
      weight: 1.0
      temperature: 0.4

prompt:
  num_top_programs: 2
  num_diverse_programs: 1
  use_template_stochasticity: true
  include_artifacts: true    # Dria: +17% improvement

database:
  population_size: 50
  archive_size: 20
  num_islands: 3             # R3: 3 islands with ring migration
  feature_dimensions: ["complexity", "diversity"]
  feature_bins: 5
  migration_interval: 10
  migration_rate: 0.2

evaluator:
  timeout: 120               # Budget for 3 benchmark sizes Ã— 30 calls each at <1s/call
  max_retries: 2
  cascade_evaluation: false

diff_based_evolution: false  # R3: full rewrite more reliable than diff mode
early_stopping_patience: 10  # Stop if no improvement for 10 consecutive iterations
convergence_threshold: 0.01
